<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Главная - LightSearch</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>
<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
<style>
    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    .cBody {
        background-color: #007dff;
    }
    .cCard {
        background-color: white;
        width: 90%;
        height: auto;
        min-height: 150px;
        border-spacing: 0;
        box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.28);
        border-collapse: separate;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        border-radius: 10px;
        margin: 1% 10% 0 auto;
    }
    .cDate {
        font-family: 'Open Sans', serif;
        padding-left: 1%;
        padding-top: 1%;
        color: #007dff;
        font-size: 18pt;
        font-weight: bold;
    }
    .cText {
        font-family: 'Open Sans', serif;
        color: black;
        padding: 2% 10% 50px;
        margin: 0 auto 0;
        font-size: 14pt;
        text-align: left;
    }
    .cTextInner {
        font-family: 'Open Sans', serif;
        margin: auto 0;
        font-size: 14pt;
        text-align: left;
    }
    .cLink {
        font-family: 'Open Sans', serif;
        color: white;
    }
    .cDivCenter {
        margin-top: 5%;
        margin-bottom: 1%;
        text-align: center;
    }
    .cDivMargin {
        margin-bottom: 30px;
    }
    .cImageText {
        border-radius: 15px;
        width: 240px;
        height: 480px;
        box-shadow: 0 2px 2px 1px rgba(0, 0, 0, 0.28);
    }
    input[type="radio"] {
        display: none;
    }
    .tabs {
        position: relative;
    }
    @keyframes fadeIn{
        0% {
            opacity:0;
        }
        100% {
            opacity:1;
        }
    }
    .tab, .tab-title {
        display: inline-block;
        font-family: 'Open Sans', serif;
        color: white;
    }
    .tab-title {
        background-color: #52b1ff;
        width: 80px;
        box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.28);
        border-radius: 30px;
        padding: 3px;
        opacity: 1.0;
        transition: opacity .2s ease-out;
    }
    .tab-title:hover {
        opacity:0.8;
        box-shadow: 0 2px 2px 2px rgba(0, 0, 0, 0.28);
        transition: box-shadow .2s ease-out;
    }
    .tab-title:hover .tooltiptext {
        opacity: 0.7;
        transition: opacity .2s ease-out;
    }
    .tab:checked + .tab-title {
        position: relative;
        opacity: 1.0;
        z-index: 1;
    }
    .tab-content {
        position: absolute;
        padding-top: 1%;
        padding-bottom: 2%;
        border-radius: 10px;
        margin-top: 1%;
        display: none;
        animation: fadeIn ease 500ms;
        -webkit-animation: fadeIn ease 500ms;
        -moz-animation: fadeIn ease 500ms;
        -o-animation: fadeIn ease 500ms;
    }
    .tab :checked ~ .tab-content {
        display: block;
    }
    .tooltiptext {
        width: 80px;
        background-color: black;
        opacity: 0.0;
        transition: opacity .2s ease-out;
        bottom: 105%;
        left: 3px;
        color: #fff;
        text-align: center;
        padding: 5px 0;
        border-radius: 6px;
        position: absolute;
        z-index: 1;
    }
    .tooltiptext::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        opacity: 0.7;
        border-color: black transparent transparent transparent;
    }
    html {
        overflow-y: scroll;
    }
    body {
        position: relative;
    }
</style>
<h1>
    <img src="https://user-images.githubusercontent.com/43209824/64838878-905c6e00-d638-11e9-8026-e7b04d1af80f.png"
         width="150" height="150" alt="Logo" class="center" style="position: relative">
</h1>
<body class="cBody">
<div class="tabs">
    <div class="tab">
        <div class="cDivCenter">
            <label for="tab1" class="tab-title" >
                <span class="tooltiptext">Главная</span>
                <img alt="home" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMjhweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE2IDE2OyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTYgMTYiIHdpZHRoPSIyOHB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTE1LjQ1LDdMMTQsNS41NTFWMmMwLTAuNTUtMC40NS0xLTEtMWgtMWMtMC41NSwwLTEsMC40NS0xLDF2MC41NTNMOSwwLjU1NUM4LjcyNywwLjI5Nyw4LjQ3NywwLDgsMFM3LjI3MywwLjI5Nyw3LDAuNTU1ICBMMC41NSw3QzAuMjM4LDcuMzI1LDAsNy41NjIsMCw4YzAsMC41NjMsMC40MzIsMSwxLDFoMXY2YzAsMC41NSwwLjQ1LDEsMSwxaDN2LTVjMC0wLjU1LDAuNDUtMSwxLTFoMmMwLjU1LDAsMSwwLjQ1LDEsMXY1aDMgIGMwLjU1LDAsMS0wLjQ1LDEtMVY5aDFjMC41NjgsMCwxLTAuNDM3LDEtMUMxNiw3LjU2MiwxNS43NjIsNy4zMjUsMTUuNDUsN3oiLz48L3N2Zz4K">
            </label>
        </div>
        <input type="radio" id="tab1" name="tab-group" checked>
        <section class="tab-content" style="width: 100%">
            <div class="cCard" style="margin: 1% auto 0 6%">
                <div class="cDate">&#9679;</div>
                <div class="cText">
                    <div class="cTextInner">
                        LightSearch - Программный комплекс для решения задач по обеспечению мобильности сотрудников на
                        предприятиях.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Проект состоит из следующих программ:
                        <ol>
                            <li>
                                <a href="https://github.com/ViiSE/LightSearch-Server">LightSearch Server</a>
                                - RESTful сервер, обеспечивающий общение между клиентами
                                LightSearch и программой, реализующей бизнес-логику, и реализующий необходимые
                                функции для предприятия;
                            </li>
                            <li>
                                <a href="https://github.com/ViiSE/LightSearch-Server">LightSearch Android</a>
                                - Мобильное клиентское приложение на операционной системе Android;
                            </li>
                            <li>
                                <a href="https://github.com/ViiSE/LightSearch-Server">LightSearch Updated</a>
                                - Сервис обновления мобильного приложения LightSearch.
                            </li>
                        </ol>
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Вся информация о проекте и исходный код доступен в
                        <a href="https://github.com/ViiSE/LightSearch-Server">GitHub</a>.
                    </div>
                </div>
            </div>
            <div class="cDivCenter">
                <a href="https://github.com/ViiSE/LightSearch" class="cLink">LightSearch</a>
                <div class="cLink">2020 © ViiSE</div>
            </div>
        </section>
    </div>
    <div class="tab">
        <div class="cDivCenter">
            <label for="tab2" class="tab-title">
                <span class="tooltiptext" style="left: 95px;">История</span>
                <img alt="devNotes" style="text-align: center" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIyOHB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjI4cHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48dGl0bGUvPjxkZXNjLz48ZGVmcy8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI+PGcgZmlsbD0iI0ZGRkZGRiIgaWQ9Imljb24tNDQtbm90ZS10ZXh0Ij48cGF0aCBkPSJNNSwxMSBMNSwyNS45OTkxMzU4IEM1LDI3LjA5ODM3MjcgNS44OTI3NzEyLDI4IDYuOTk0MDYwMjgsMjggTDIxLDI4IEwyMSwyMS45OTgxMDE0IEMyMSwyMC44ODY3MDY0IDIxLjg5ODA4MDYsMjAgMjMuMDA1OTE5MSwyMCBMMjgsMjAgTDI4LDExIEw1LDExIEw1LDExIFogTTUsMTAgTDUsNy4wMDA4NjQyMiBDNSw1Ljg5NTgxNzQzIDUuOTAxNjI3MjYsNSA3LjAwMDg2NDIyLDUgTDI1Ljk5OTEzNTgsNSBDMjcuMTA0MTgyNiw1IDI4LDUuODkzMzk3MzMgMjgsNi45OTE4ODQxOSBMMjgsMTAgTDUsMTAgTDUsMTAgWiBNMjIsMjggTDIyLDIyLjAwMjkyOTMgQzIyLDIxLjQ0OTAyNjggMjIuNDUwOTc1MiwyMSAyMi45OTA3NzgsMjEgTDI4LDIxIEwyMiwyOCBMMjIsMjggWiBNOCwxNCBMOCwxNSBMMjUsMTUgTDI1LDE0IEw4LDE0IEw4LDE0IFogTTgsMTcgTDgsMTggTDI1LDE4IEwyNSwxNyBMOCwxNyBMOCwxNyBaIE04LDIwIEw4LDIxIEwxOSwyMSBMMTksMjAgTDgsMjAgTDgsMjAgWiBNOCwyMyBMOCwyNCBMMTksMjQgTDE5LDIzIEw4LDIzIEw4LDIzIFoiIGlkPSJub3RlLXRleHQiLz48L2c+PC9nPjwvc3ZnPgo=">
            </label>
        </div>
        <input type="radio" id="tab2" name="tab-group">
        <section class="tab-content">
            <div class="cCard">
                <div class="cDate">23.03.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Изменил логику входа в приложение LightSearch Android. Когда клиент находится в главном меню, то
                        после нажатия кнопки 'назад' смартфона, происходит выход из приложения. Когда пользователь снова
                        откроет приложение, то LightSearch Android проверит срок годности токена, и если он просрочен,
                        то покажет окно авторизации, а иначе перейдет в главное меню и отправит две команды на сервер -
                        clients/tkList и clients/skladList, и будет выполнять их в каждом отдельном AsyncTask.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        clients/tkList и clients/skladList выгружают список складов и ТК соответственно. Они необходимы
                        для заполнения Spinner'ов фрагмента поиска в LightSearch Android. Для этого был создан
                        ProgressBar, который приобретает значение свойства visibility.GONE после завершения работы
                        AsyncTask по заполнению Spinner'а.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-16" src="Screenshot_20200323-151500.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Был замечен эффект: если переходить в другую вкладку (например, 'еще') и после перейти обратно
                        на вкладку 'поиск', то запускается заново отрисовка данного окна
                        (вызывается метод onCreateView), при этом до этого метод onSaveInstanceState вызван не был.
                        Поэтому раз за разом дергался сервер, что не есть хорошо. Поэтому был создан класс
                        SpinnerWithCallback, которому можно установить callback-функцию после вызова setAdapter. Был
                        написан callback, который в качестве параметра принимает данные, которые имеет Spinner. Таким
                        образом, при помощи этого callback'а можно сохранять массивы с данными во фрагменте, тем самым
                        не вызывая каждый раз команды сервера при перелистывании страниц.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Была добавлена команда /clients/softChecks/products : поиск для мягкого чека. Эта команда
                        отличается от команды /clients/products тем, что в ней мы не указываем по какому складу и ТК
                        необходимо осуществлять поиск, а указываем имя пользователя, который закреплен за определенным
                        подразделением, по которому и будет осуществляться поиск.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Обновил иконку приложения и сделал ее адаптивной для всех графических оболочек.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">20.03.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Полностью изменил UI в LightSearch Android. Теперь приложение использует не TabLayout в главном
                        меню, а bottom navigation bar с тремя вкладками: 'поиск', 'задачи' и 'еще'.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-1" src="Screenshot_20200312-152449.png" class="cImageText">
                        <img alt="scr-2" src="Screenshot_20200312-152451.png" class="cImageText">
                        <img alt="scr-3" src="Screenshot_20200312-152454.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        В 'поиске' используется Floating Action Button (FAB), на которую возложена функция сканирования
                        штрих-кода через камеру смартфона. Также теперь после сканирования штрих-кода камерой сразу
                        происходит поиск по считанному штрих-коду. Кнопка 'Поиск' убрана. Теперь для поиска необходимо
                        нажать кнопку Enter на клавиатуре смартфона. Для этого в EditText необходимо сменить значение
                        свойства 'imeOptions' на 'actionSearch', и добавить в классе фрагмента, который использует
                        данный layout, в экземпляре класса EditText EditorActionListener через метод
                        OnEditorActionListener.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-4" src="Screenshot_20200320-101409.png" class="cImageText">
                        <img alt="scr-5" src="Screenshot_20200320-101413.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Во вкладке 'задачи' имеются две кнопки: 'мягкий чек' и 'привязка товара'. Привязка товара
                        работает так же, как и в предыдущей версии приложения, за исключением добавления FAB
                        сканирования штрих-кода камерой и заменой кнопки поиска на клавишу Enter клавиатуры.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-6" src="Screenshot_20200314-150615.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        При нажатии на кнопку 'Мягкий чек' открывается экран, в котором пользователю предлагают либо
                        считать штрих-код карточки при помощи сканера, либо при помощи камеры.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-7" src="Screenshot_20200314-184416.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        После считывания идет проверка: не закреплен ли за этой картой не закрытый мягкий чек? Если по
                        этой карте чек открыт, то приложение уведомит об этом пользователя, и предложит ему отменить
                        этот чек. После открытия чека открывается окно 'мягкий чек'. В нем можно добавлять товары,
                        находя их по наименованию, или по штрих-коду. Кнопка 'В корзину' отсутствует, теперь вместо нее
                        counterFAB с изображением тележки. При добавлении товара возле кнопки появляется счетчик
                        количества текущих позиций в мягком чеке.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-8" src="Screenshot_20200323-151721.png" class="cImageText">
                        <img alt="scr-9" src="Screenshot_20200323-151727.png" class="cImageText">
                        <img alt="scr-10" src="Screenshot_20200323-151730.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        При поиске по наименованию в мягком чеке создается полноэкранный AlertDialog со списком
                        доступных товаров.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-11" src="Screenshot_20200318-211003.png" class="cImageText">
                        <img alt="scr-12" src="Screenshot_20200318-211013.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        После нажатия на counterFAB с изображением тележки осуществляется переход в корзину. В ней идет
                        проверка остатков всех единиц товаров. Если остатков на складах меньше, чем указано в чеке, то
                        приложение уведомоит об этом пользователя. После нажатия кнопки 'Закрыть мягкий чек' снова идет
                        проверка остатков, и если чек закрылся с успехом, то идет возращение в меню мягкого чека.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-13" src="Screenshot_20200319-125446.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Во вкладке 'еще' доступна информация о пользователе, который зашел в текущую сессию, информация
                        о приложении, и кнопка выхода из текущей сессии.
                    </div>
                    <div class="cDivCenter">
                        <img alt="scr-14" src="Screenshot_20200314-150559.png" class="cImageText">
                        <img alt="scr-15" src="Screenshot_20200320-101422.png" class="cImageText">
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Изменил загрузку обновления приложения. Вместо Intent'а, используемого в AppUpdater, я применил
                        DownloadManager. При помощи него даже не надо открывать браузер - обновление скачивается прямо в
                        папку Downloads и уведомления о скачивании происходит в шторке уведомлений.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">11.03.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Объединил в LightSearch Android все сделанные фрагменты. Теперь в главном меню приложения
                        доступны следующие окна (сделаны через TabLayout): 'Поиск', 'Мягкий чек', 'Операции', в
                        операциях же: 'Привязка товара', 'Отвязка товара'.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">06.03.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Исправил изменение ширины карточки на странице 'Главная'. Теперь ширина растягивается
                        относительно размеров экрана.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">05.03.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Сделал рефакторинг кода LightSearch Updater. Исправил многие ошибки, такие как неправильное
                        использование Spring, ошибки в дизайне, грубые нарушения в ООП, написал юнит-тесты, а не
                        интеграционные тесты под видом юнит-тестов. Приложение работает точно так же, как и до этого.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Добавил на свою страницу сайта вкладки: 'Главная' и 'История'. Во вкладке 'Главная' содержится
                        общая информация о проекте и ссылки, а во вкладке 'История' содержится Dev notes.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">03.03.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Сделал миграцию проектов Spring Edition. Теперь LightSearch Server, LightSearch Android и
                        LightSearch Updater имеют собственные репозитории. Этот репозиторий будет хранилищем
                        Standard Edition, документов к проекту и будет собирательным репозиторием для всех проектов,
                        входящих в состав LightSearch. Также я оставил когда-то давно сделанный ClientBot на Spring в
                        папке проектов Spring Edition. Может в будущем он мне и пригодится.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Удалил все коммиты. Это довольно печальная, но вынужденная мера. Я хотел удалить некоторые
                        коммиты, которые мне не нравились, и сломал всю систему. В итоге у меня из 400 коммитов стало
                        1200. В итоге я размножил все коммиты в 3 раза.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Насчет Admin Panel я еще не решил, что делать: либо сделать частью проекта LightSearch Server,
                        либо как отдельный проект на React.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Сделал github pages для проекта LightSearch. Теперь Dev notes доступен и в нем. Располагается он
                        по следующей ссылке: https://viise.github.io/LightSearch/
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">23.02.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Переписал LightSearch Android на Retrofit2. Теперь он полностью поддерживает REST.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Исправил UI привязки товара. Теперь на одной линии поместились поисковая строка, и кнопки
                        сканирования штрих-кода и поиска. Если при поиске товара по заводскому штрих-коду ввести 13
                        символов, то автоматически начнется поиск этого товара. То же самое справедливо и для случая,
                        когда нажимается кнопка сканирования штрих-кода. Сначала этот функционал был сделан через
                        onKeyUp() метода Activity, но при сборке релизного APK и установке приложения на другой смартфон
                        этот функционал не работал. Причину я так и не смог найти. Поэтому я сделал другую реализацию
                        через TextWatcher, который я повесил на EditText поля поиска привязки, и это заработало.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Если при проверке привязки товар не был найден, то при переходе в режим привязки кнопка поиска
                        меняет свой значек на значок привязки.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Теперь вместо диалогового окна при нахождении товара по заводскому штрих-коду показывается
                        карточка снизу, и snackbar снизу уведомляет об этом событии.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        В LightSearch Server я отказался от lsCode типа Long в пользу lsCode типа SHA-256. Хэш делается
                        из текущего времени + соль, которая генерируется экземпляром класса Random методом
                        nextGaussian(). На днях я проверял коллизию этого метода: проверил его на 100 миллионах
                        итерациях. Убедился в том, что коллизий нет, и решил принять этот метод в качестве генерации
                        соли. Такой подход полностью избавил LightSearch Server и от таймера, и от файла db_identifier.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">13.02.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Прикрутил к LightSearch Swagger2. Задокументировал подробно все точки и модели. Создал два
                        докета - первый для команд клиента, второй для команд администратора.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Добавил csrf защиту в Spring Security. Также добавил нового пользователя - dev, то есть
                        разработчик, и изменил механизм перенаправлений на страницы. Теперь если пользователь имеет роль
                        ADMIN, то после авторизации его перенаправляет на панель администратора. При этом документация,
                        которая находится по адресу /docs, не доступна ему (403 forbidden). Если же пользователь имеет
                        роль DEV, то после авторизации его перекидывает на страницу с документацией, и при этом он может
                        перейти в панель администратора, перейдя по адресу /session/admin.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">11.02.20</div>
                <div class="cText">
                    <div class="cTextInner">
                        Переписал LightSearch Server на Spring. Избавился от множества кода, особенно от продьюсеров.
                        Добавил юнит-тесты и интеграционные тесты.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Теперь IMEI присылаются только на стадии авторизации, и после этого сразу же хешируются при
                        помощи SHA-512 и помещается в jwt токен в subject. На сервере поставлен фильтр, который
                        проверяет токены, выданные пользователям после успешной авторизации.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Таймер клиентов убран вообще и теперь вместо него применяется jwt токен, который имеет свой срок
                        жизни. Таймер перезагрузки сервера убран вообще, команда перезагрузки сервера админом оставлена.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Применяется паттерн декоратор для описания таких сущностей, как результат работы команды
                        администратора и клиента, команда администратора и клиента, свойства конфигурационного файла
                        итд. POJO-объекты применяются только тогда, когда это действительно необходимо.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Переписан пакет database. Теперь есть репозитории и CommandExecutor, который исполняет команды,
                        пришедшие к нему, и выдает их результат.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Все константы переведены в нижний регистр, а клиенту больше не требуется указывать поле команды
                        вообще. Эту функцию выполняет точка в RESTful API.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Использованы теперь не только POST запросы, но и GET, PUT, DELETE.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Добавлены две новые бизнес-функции - проверка привязки товара к заводскому штрих-коду и привязка
                        товара к заводскому штрих-коду.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">01.11.19</div>
                <div class="cText">
                    <div class="cTextInner">
                        Переписал LightSearch Server на REST. API сервера будет скоро описано в соответствующем
                        документе. Здесь я отмечу, что выбрана именно такая модель API
                        (то есть когда одна точка для нескольких команд, а название самой команды передается в JSON)
                        потому, что с текущей схемой работы сервера создание для каждой команды точки приведет только к
                        дублированию кода.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        В REST версии сервера я применил из проекта Spring Cloud создание задач по расписанию. На
                        текущий момент реализовано три задачи, одна из которых стоит под вопросом:
                        <ol>
                            <li>Таймер тайм-аута клиента. Если на сервере тайм-аут клиента включен, то каждую секунду
                                происходит уменьшение значения времени тайм-аута всех подключенных клиентов на 1. После
                                этого идет проверка на значение тайм-аута: если оно равно 0, то клиент исключается из
                                текущей сессии;
                            </li>
                            <li>
                                Таймер записи значения LSCODE в файл. Этот таймер каждые 30 минут записывает значение
                                LSCODE в файл db_identifier;
                            </li>
                            <li>
                                RestartTimer - перезагружает сервер в определенное время. Данный таймер стоит под
                                вопросом надобности вообще: можно оставить перезагрузку только как команду
                                администратора. Также было замечено, что если сервер перезагружать без остановки, но с
                                задержкой, то приложение рано или поздно выведит ошибку java.lang.outOfMemoryError. Есть
                                предположение, что это просто от того, что сервер не успевает вычищать память после
                                каждой перезагрузки, то есть в реальной эксплуатации этого не должно произойти. Но этот
                                сценарий будет проверяться тестами.
                            </li>
                        </ol>
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Теперь настройки сервера хранятся в файле application.properties. Доступные настройки:
                        <ol>
                            <li>
                                lightsearch.server.settings.timeout.client-timeout - значение тайм-аута клиента, в
                                секундах;
                            </li>
                            <li>
                                lightsearch.server.settings.timeout.reduce-value - значение, на которое каждую секунду
                                уменьшается значение тайм-аута клиента, в секундах;
                            </li>
                            <li>
                                lightsearch.server.settings.restart.restart-time - время перезагрузки сервера. Паттерн
                                значения времени: HH:ss;
                            </li>
                            <li>
                                lightsearch.server.settings.restart.frequency - указывает, через какое количество дней
                                необходимо перезагружать сервер. Например, если указано число 1, то это означает, что
                                сервер будет перезагружаться каждый день. Значение, равное 0, указывать только в случае
                                теста и отладки!
                            </li>
                            <li>
                                lightsearch.server.admin.username - имя администратора. В версии Spring нет надобности в
                                нескольких администраторов, поэтому параметры одного (и единственного) из них можно
                                записать в property файл.
                            </li>
                            <li>
                                lightsearch.server.admin.password - пароль администратора. В данном случае это дайджест
                                пароля. В текущей версии LightSearch Server используется алгоритм bcrypt с 10 раундами.
                            </li>
                        </ol>
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Для общения с СУБД был использован интерфейс JdbcTemplate. Hibernate пока что не был применен по
                        причине того, что его необходимо изучать и также делать проверку при помощи тестов, а это время.
                        Времени пока нет, поэтому был сделан более быстрый вариант. Проблема также в том, что на
                        предприятии СУБД Firebird работает на кодировке windows-1251, что создает еще больше проблем для
                        применения Hibernate.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Для тестов была использована база данных H2. Для того, чтобы H2 была использована только в
                        тестах, необходимо в папке test/resources создать файл application.properties с настройками H2.
                        Для создания базы необходимо два файла: data.sql и schema.sql. В schema.sql указывается схема
                        бд, а в data.sql - данные. При работе с H2 возникли некоторые трудности: я не смог перевести
                        корректно BLOB в String. Все советы, решения и официальная документация не помогли, и все, что
                        мне оставалось сделать, это сохранять команду в поле VARCHAR. Но нужно понимать, что это только
                        для тестов. В реальной базе следует использовать BLOB, т.к. он банально способен держать намного
                        больше объем данных.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">17.09.19</div>
                <div class="cText">
                    Написал юнит-тесты для LightSearch Updater, используя JUnit, TestNG и Mockito. В TestNG применил
                    Suite XML. Это позволило перенести все простые параметры в него, и сконфигурировать запуск тестов по
                    пакетам.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">12.09.19</div>
                <div class="cText">
                    Создал панель администратора LightSearch Updater, используя Spring Boot, MVC, Security, и Vaadin.
                    Теперь, набрав в поиске адрес сервера, открывается форма с авторизацией. После успешного входа в
                    систему открывается страница панели администратора. При помощи нее можно создавать новые версии
                    релиза мобильного приложения LightSearch Android, загружая файл обновления через технологию
                    Drag-and-Drop и введя название релиза. Также можно изменять информацию о релизе, которую считывает
                    мобильное приложение для проверки обновления, непосредственно в браузере. При этом поддерживается
                    проверка синтаксиса JSON.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">05.09.19</div>
                <div class="cText">
                    <div class="cTextInner">
                        Создал авто-обновление LightSearch Android. Для этого был написан сервис LightSearch Updater,
                        работающий с фреймворком Spring. Для Android приложения была использована библиотека AppUpdater.
                        Но она не удовлетворяля по нескольким причинам:
                        <ol>
                            <li>Нельзя изменить View диалогового окна;</li>
                            <li>Кнопка "Больше не напоминать" - у нас не такое приложение, где можно включать такую
                                функцию.</li>
                        </ol>
                        Библиотека не дает делать такие настройки, поэтому были скачаны ее исходники, и весь необходимый
                        функционал был вытащен и внедрен в проект, также были добавлены новые функции, и все остальное
                        ненужное - удалено.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Теперь, когда мобильное приложение запускается, оно проверяет наличие обновления, и если оно
                        таковое имеется, то предлагает пользователю обновится. Если он соглашается, то открывается
                        браузер, скачивается apk, и приложение обновляется.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">03.09.19</div>
                <div class="cText">
                    <div class="cTextInner">
                        Сделал кастомный AlertDialog и SpotsDialog. Для этого надо было создать новый drawable
                        background и style. Теперь диалоговые окна стали с закругленными краями, и их кнопки стали в
                        стиле кнопок приложения.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Перенес все строки в файл strings.xml. Небольшие фиксы в UI.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Пытался добавить шрифт OpenSans, но после его добавления сильной разницы в UI не было замечено,
                        поэтому шрифт остался по умолчанию. Также сделал кастомный CheckBox, но такую хорошую анимацию,
                        как в CheckBox по умолчанию, я сделать не смог, поэтому оставил новый drawable на потом, когда
                        научусь делать анимацию.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">30.08.19</div>
                <div class="cText">
                    <div class="cTextInner">
                        Изменил отображение результата поиска. Теперь одной записью результата поиска считается
                        уникальный товар (то есть со своим штрих-кодом). В всплывающем окне отображается информация об
                        этом товаре: наименование, ИД (штрих-код), общее количество товара, цена за единицу, и список
                        подразделений. Каждое подразделение представляет собой наименование подразделения и количество
                        данного товара в этом подразделении.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Окно результата поиска никуда не делось и будет использоваться в дальнейшем, если заказчик
                        попросит поиск по наименованию. Теперь карточка представляет из себя карточку товара с общей
                        стоимостью и списком подразделений. Для этого необходимо было генерировать динамически CardView.
                        Для того, чтобы этот эффект был достигнут, необходимо заранее их готовить в AsyncTask, и
                        контролировать, чтобы готовые карточки в адаптере в методе getView() не создавались заново, а
                        вызывались из списка.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Улучшил энергоэффективность приложения. Опыт с таймером в LightSearch Server помог. Дело в том,
                        обработчик клиента в цикле постоянно проверяет, нет ли команды на исполнение. Если не ставить
                        задержку, то процессору будет плохо. А на мобильном устройстве еще и аккумулятору. Я поставил
                        задержку в 100 мс и эта проблема была решена.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Улучшил UI. Теперь, при нажатии на кнопки и другую область, отличную от текущего EditText,
                        экранная клавиатура закрывается. Навигационная панель (которая внизу и у которой три кнопки:
                        назад, домой и все приложения) теперь цвета заднего плана приложения, что визуально увеличивает
                        площадь.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Изменил немного анимацию нажатия кнопок. Теперь нажатия более очевидны.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Изменил задержку проверки команды на 500 мс. На скорость это мало влияет
                        (для человека она не заметна), а для памяти и процессора - еще как заметна. Теперь приложение
                        потребляет меньше ресурсов процессора и меньше оперативной памяти.
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Теперь при показе всплываюшего окна результата поиска нельзя отменить его показ, нажав на любую
                        область экрана. Теперь надо нажимать кнопку "ОК".
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">26.08.19</div>
                <div class="cText">
                    Написал JavaDoc для LightSearch Server Standard Edition.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">20.08.19</div>
                <div class="cText">
                    Реорганизовал юнит-тесты в LightSearch Server и LightSearch Client Bot.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">19.08.19</div>
                <div class="cText">
                    Запустил LightSearch Server Standard Edition с ключом -Xmx. Как оказалось, для успешного запуска ему
                    достаточно 4 мегабайта оперативной памяти. Более того, он смог проработать на 4-ех мегабайтах,
                    выдержав 8 клиентов, каждый из которых делал 500 циклов, в каждом цикле которого 7 команд.
                    LightSearch Server Spring Edition запустился на 7-ми мегабайтах, выдержав такую же тестовую
                    конфигурацию. Подозреваю, что большую часть оперативной памяти, потребляемый процессом, который
                    показывал диспетчер задач, потребляет сама Windows. Например, для отрисовки командной строки и
                    обновления вывода текста на экране.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">15.08.19</div>
                <div class="cText">
                    <div class="cTextInner">
                        Создана новая версия LightSearch Server, написанная на Spring Framework 5 (Spring Boot 2).
                        Конфигурация смешанная (аннотации + xml).
                    </div>
                    <div class="cDivMargin"></div>
                    <div class="cTextInner">
                        Провел тест потребления оперативной памяти LightSearch Server Spring Edition. Итог - 108
                        мегабайт. Также использовал диспетчер задач Windows.
                    </div>
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">09.08.19</div>
                <div class="cText">
                    Создана новая версия LightSearch Client Bot, написанная на Spring Framework 5 (Spring Boot 2).
                    Конфигурация на аннотациях.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">07.08.19</div>
                <div class="cText">
                    Перевел программный комплекс LightSearch с Apache Ant на Apache Maven.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">06.08.19</div>
                <div class="cText">
                    Создал экспериментальные таймеры с GC (Garbage Collector). Памяти стало лучше, но процессору - нет.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">05.08.19</div>
                <div class="cText">
                    Проверял, сколько потребляет LightSearch Server оперативной памяти. Итог - 17 мегабайт в простое,
                    дальше после каждой итерации теста с LightSearch Client Bot память увеличивалась на 2к килобайта.
                    Для профилирования использовал Visual VM, для проверки потребления количества оперативной памяти -
                    диспетчер задач Windows.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">01.08.19</div>
                <div class="cText">
                    Создал функцию среднего замера времени обработки блока программы LightSearch Server. Для этого
                    создал новую команду, которую отсылает LightSearch Client Bot после тестирования
                    LightSearch Server'у. Системный бот уведомляет о том, что необходимо посчитать среднее время. Пока
                    что замерял только время отправки сообщения клиенту. Итог - 15 мс. К тому же провел тест на
                    прочность. Итог - сервер смог выдержать 50 ботов-клиентов, каждый из которых делал 100 циклов по
                    1000 команд в каждом с задержкой перед отправкой сообщения в 10 мс.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">29.07.19</div>
                <div class="cText">
                    Написал юнит-тесты для LightSearch Client Bot.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">26.07.19</div>
                <div class="cText">
                    Написал ботов (проект LightSearch Client Bot) для тестирования LightSearch Server.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">23.07.19</div>
                <div class="cText">
                    Создал документацию в формате ODT и PDF для пользователей LightSearch Android.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">20.05.19</div>
                <div class="cText">
                    Создал layout корзины + его логику обработки(UI-логику + обработчики команд подтверждения товаров
                    мягкого чека и закрытия мягкого чека).
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">16.05.19</div>
                <div class="cText">
                    Создал layout мягкого чека + его логику обработки(UI-логику + обработчик команды).
                    Изучил и применил Recycle View.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">09.11.18</div>
                <div class="cText">
                    Перевел LightSearch Android с нескольких Activity на Fragment. Теперь одно Activity, и несколько
                    Fragment'ов.
                </div>
            </div>
            <div class="cCard">
                <div class="cDate">11.09.18</div>
                <div class="cText">
                    Создал прототип программного комплекса LightSearch
                    (LightSearch Server, LightSearch Admin Panel, LightSearch Android) в стиле языка C.
                </div>
            </div>
            <div class="cDivCenter" style="margin-right: 6%">
                <a href="https://github.com/ViiSE/LightSearch" class="cLink">LightSearch</a>
                <div class="cLink">2020 © ViiSE</div>
            </div>
        </section>
    </div>
</div>
</body>
</html>
